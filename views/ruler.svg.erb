<svg xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink">

  <% r = @render %>
  <defs>
    <linearGradient id="qualityGradient"
                    x1="0%" y1="0%"
                    x2="100%" y2="0%"
                    spreadMethod="pad">
      <stop offset="<%= r.offset(0) %>%" stop-color="#cc0000" stop-opacity="1" />
      <stop offset="<%= r.offset(1) %>%" stop-color="#f8f800" stop-opacity="1" />
      <stop offset="<%= r.offset(2) %>%" stop-color="#f8f800" stop-opacity="1" />
      <stop offset="<%= r.offset(3) %>%" stop-color="#88f800" stop-opacity="1" />
      <stop offset="<%= r.offset(4) %>%" stop-color="#00cc00" stop-opacity="1" />
    </linearGradient>
  </defs>

  <rect rx="0" ry="0"
     x="<%= r.ruler_x %>"
     y="<%= r.ruler_y %>"
     width="<%= r.ruler_width %>"
     height="<%= r.ruler_height %>"
     style="fill:url(#qualityGradient); stroke-width: 0;" />
  
  <line x1="<%= r.x_for(@largest_good) %>" y1="<%= r.ruler_y - 8 %>" x2="<%= r.x_for(@largest_good) %>"
     y2="<%= r.ruler_y + r.ruler_height %>"
     style="stroke: #000000; stroke-width: 2;" />
  <text x="<%= r.x_for(@largest_good) + 2 %>" y="<%= r.ruler_y - 4 %>"
     style="stroke: #000000"><%= @largest_good.size %></text>

  <line x1="<%= r.x_for(@largest_great) %>" y1="<%= r.ruler_y %>" x2="<%= r.x_for(@largest_great) %>"
     y2="<%= r.ruler_y + r.ruler_height + 8 %>"
     style="stroke: #000000; stroke-width: 2;" />
  <text x="<%= r.x_for(@largest_great) + 2 %>" y="<%= r.ruler_y + r.ruler_height + 16 %>"
     style="stroke: #000000"><%= @largest_great.size %></text>

</svg>
